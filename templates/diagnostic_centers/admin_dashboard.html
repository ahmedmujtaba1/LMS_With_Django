
{% load static %}
{% load custom_tags %}


<!doctype html>
<html lang="en">

<head>
    <title>Supervisor Dashboard</title>
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}">
    <!-- Add your custom CSS styles if needed -->
    <style>
        /* Add your custom styles here */
    </style>
</head>

<body>
    <div class="fakeLoader"></div>

    <nav class="navbar navbar-expand-lg header-shadow bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand text-white" href="">
                <b>Supervisor</b>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa fa-bars text-white"></i>
            </button>

           
            <div class="widget-subheading">Welcome   <b>{{ admin2.username }} </b></div>
       


        <ul>
            <ul class="dropdown nav-item">
                <a href="{% url 'diagnostic_centers:admin-logout' %}" tabindex="0"
                    class="nav-link text-white">Logout</a>
            </ul>
        </ul>  </div>
        </div>
    </nav>

  
    <div class="container">
        <br>
        <div class="row">
            <div class="col-md-12">
                <h2>Welcome to Supervisor Dashboard!</h2>

            </div>
            <hr>
            <div class="col-md-15">
              <div class="table-responsive">
                  <table class="table table-striped table-bordered">
                      <thead class="bg-primary text-white">
                          <tr>
                              <th>Supervisor</th>
                              <th>Students</th>
                              <th>Topic</th>
                              <th>Notice</th>
                              <th>Project Title</th>
                              <th>Uploaded Proposal</th>
                              <th>Approved</th>
                              <th>Chat</th>
                          </tr>
                      </thead>
                      <tbody>
                          {% for index, row in dataframe.iterrows %}
                              {% if row.supervisor == admin2.username %}
                              {% if row.student1|count_words == 3 %}
                                      <tr>
                                          <td>{{ row.supervisor }}</td>
                                          <td>{{ row.student1 }}</td>
                                          <!-- <td>{{ row.student2 }}</td>
                                          <td>{{ row.student3 }}</td> -->
                                          <td>{{ prediction }}</td>
                                          <td style="width: 400px; height: 200px;">{{ row.notice }}</td>
                                          <td>{{ row.title }}</td>
                                          <td>{{ row.upload_file }}</td>
                                          <td>{{ row.approved }}</td>
                                          <td><a href="{% url 'supervisor_chat' %}">Chat</a></td>
                                      </tr>
                                  {% endif %}
                              {% endif %}
                          {% endfor %}
                      </tbody>
                  </table>
              </div>
          </div>
          

    

<hr>

<div class="container">
  <table class="table table-striped">
    <thead class="bg-primary text-white">
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>File</th>
        <th>Remarks</th>
        <!-- <th>Approval</th> -->
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for project_upload in project_uploads %}
      <!-- <td><a href="http://127.0.0.1:8000/project_approval/{{ project_upload.id }}" target="_blank">Approval</a></td> -->
      
        <tr>
          <td>{{ project_upload.title }}</td>
          <td>{{ project_upload.description }}</td>
          <td><a href="{{ project_upload.upload_file.url }}">{{ project_upload.upload_file.name }}</a></td>
          <td>{{ project_upload.remarks }}</td>
          <!-- <td>{{ project_upload.approved }}</td> -->
          <!-- <td><a href="http://127.0.0.1:8000/project_approval/{{ project_upload.id }}" target="_blank">Approval</a></td> -->


{% if project_upload.approved %}
  <td>Already Approved</td>
{% else %}
  <td><a href="http://127.0.0.1:8000/project_approval/{{ project_upload.id }}" target="_blank" disabled>Approval</a></td>
{% endif %}


        </tr>
     
    {% empty %}
      <tr>
        <td colspan="4">No projects found.</td>
      </tr>
    {% endfor %}
    
    </tbody>
  </table>
</div>



  
 
<br>
<br>
<br>


    <script src="{% static 'jquery.min.js' %}"></script>
    <script src="{% static 'bootstrap.min.js' %}"></script>
    <script>
    </script>
</body>

</html>
